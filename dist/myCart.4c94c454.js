var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequireb12e;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,o.call(a.exports,a,a.exports),a.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},e.parcelRequireb12e=o);var a=o("ijjug"),r=o("1tHc5"),c=o("lBmPO"),i=o("jOLmm"),d=o("jVR3t"),s=o("etBjH");let l=0,u=[];const m=document.getElementById("cart__resume"),p=document.getElementById("cart__total__info__inside"),g=document.getElementById("checkoutInfo"),f=document.getElementById("btnCheckout");function v(e){l=0,e.forEach((e=>{!function(e){const t=document.createElement("li");t.className="cart__resume__list",t.innerHTML=`\n  <img class="product_img" src="${e.images[0]}" alt="producto" width="165">\n  <div>\n      <h3>${e.name}</h3>                \n      <p>${e.color} / size: ${e.size} </p>\n  </div>\n  <div>\n      <p class="product__price">${d.currencyFormat(e.price)}</p>\n  </div>\n  <div>\n      <img class="img-remove" src="https://firebasestorage.googleapis.com/v0/b/maog-shop.appspot.com/o/images%2Fremove-btn.png?alt=media&token=1d8286da-7b6b-4af3-85bc-1ecb089339f9" alt="remove_btn" width="32px">\n  </div>\n  `,m.appendChild(t),t.addEventListener("click",(t=>{t.preventDefault(),"IMG"===t.target.tagName&&async function(e){const t=u.filter((t=>t.id!==e));u=t,userLogged&&await c.createFirebaseCart(a.db,userLogged.uid,t);i.addProductToCart(t),m.innerHTML="",p.innerHTML="",v(t)}(e.id)}))}(e),l+=parseInt(e.price)}));const t=document.createElement("div");t.innerHTML=`\n    <p>Total payment is:</p>\n    <h1>${d.currencyFormat(l)}</h1>\n    \n  `,p.appendChild(t),console.log(d.currencyFormat(l))}const h=async e=>{try{const t=await s.addDoc(s.collection(a.db,"orders"),{...e,products:u,total:l});alert(`Gracias ${e.name}, tu orden ${t.id} va en camino`),(async()=>{try{await s.deleteDoc(s.doc(a.db,"cart",userLogged.uid)),v([]),console.log("actulizando...")}catch(e){console.log(e)}window.location.reload()})()}catch(e){console.log(e)}};f.addEventListener("click",(e=>{e.preventDefault();const t=g.name.value,n=g.id.value,o=g.adress.value,a={name:t,id:n,adress:o};u.length?t&&n&&o?h(a):alert("Completa todos los campos"):alert("AÃºn no tienes productos en el carrito :(")})),r.onAuthStateChanged(a.auth,(async e=>{e?(userLogged=e,u=await c.getFirebaseCart(a.db,userLogged.uid)):u=i.getMyCart(),v(u)}));
//# sourceMappingURL=myCart.4c94c454.js.map
