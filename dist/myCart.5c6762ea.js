var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequireb12e;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,o.call(a.exports,a,a.exports),a.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},e.parcelRequireb12e=o);var a=o("ijjug"),r=o("1tHc5"),c=o("lBmPO"),i=o("jOLmm"),d=o("jVR3t"),l=o("etBjH");let s,u=0,m=[];const p=document.getElementById("cart__resume"),g=document.getElementById("cart__total__info__inside"),f=document.getElementById("checkoutInfo"),v=(document.getElementById("btnCheckout"),document.getElementById("order"));function h(e){u=0,e.forEach((e=>{!function(e){const t=document.createElement("li");t.className="cart__resume__list",t.innerHTML=`\n  <img class="product_img" src="${e.images[0]}" alt="producto" width="165">\n  <div>\n      <h3>${e.name}</h3>                \n      <p>${e.color} / size: ${e.size} </p>\n  </div>\n  <div>\n      <p class="product__price">${d.currencyFormat(e.price)}</p>\n  </div>\n  <div>\n      <img class="img-remove" src="https://firebasestorage.googleapis.com/v0/b/maog-shop.appspot.com/o/images%2Fremove-btn.png?alt=media&token=1d8286da-7b6b-4af3-85bc-1ecb089339f9" alt="remove_btn" width="32px">\n  </div>\n  `,p.appendChild(t),t.addEventListener("click",(t=>{t.preventDefault(),"IMG"===t.target.tagName&&async function(e){const t=m.filter((t=>t.id!==e));m=t,s&&await c.createFirebaseCart(a.db,s.uid,t);i.addProductToCart(t),p.innerHTML="",g.innerHTML="",h(t)}(e.id)}))}(e),u+=parseInt(e.price)}));const t=document.createElement("div");t.innerHTML=`\n    <p>Total payment is:</p>\n    <h1>${d.currencyFormat(u)}</h1>\n    \n  `,g.appendChild(t),console.log(d.currencyFormat(u))}const b=async e=>{try{const t=await l.addDoc(l.collection(a.db,"orders"),{...e,products:m,total:u});alert(`Gracias ${e.name}, tu orden ${t.id} va en camino`),(async()=>{try{await l.deleteDoc(l.doc(a.db,"cart",s.uid)),h([]),console.log("actulizando...")}catch(e){console.log(e)}window.location.reload()})()}catch(e){console.log(e)}};v.addEventListener("click",(e=>{e.preventDefault();const t=f.name.value,n=f.id.value,o=f.adress.value,a={name:t,id:n,adress:o};m.length?t&&n&&o?b(a):alert("Completa todos los campos"):alert("AÃºn no tienes productos en el carrito :(")})),r.onAuthStateChanged(a.auth,(async e=>{e?(s=e,m=await c.getFirebaseCart(a.db,s.uid)):m=i.getMyCart(),h(m)}));
//# sourceMappingURL=myCart.5c6762ea.js.map
