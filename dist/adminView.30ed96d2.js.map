{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,sBAiBAC,eAAeC,EAAaC,EAASC,EAAS,IAO1C,OANuBA,EAAOC,KAAKJ,MAAOK,IACtC,MAAMC,QANdN,eAAoCE,EAASG,GACzC,MAAME,EAAaC,EAAAC,IAAIP,EAAS,mBAAmBG,EAAMK,QACzD,aAAaF,EAAAG,YAAYJ,EAAYF,GAIJO,CAAqBV,EAASG,GAE3D,OAAOG,EAAAK,eAAeL,EAAAC,IAAIP,EAASI,EAAeG,IAAIK,+BCjB9D,MAAMC,EAAcC,SAASC,eAAe,eAE5CF,EAAYG,iBAAiB,UAAUlB,MAAOmB,IAC1CA,EAAEC,iBACFC,QAAQC,IAAI,YAEZ,MAAMC,EAAWR,EAAYQ,SAASC,MAChCd,EAAOK,EAAYL,KAAKc,MACxBC,EAAQV,EAAYU,MAAMD,MAC1BE,EAAWX,EAAYW,SAASF,MAChCG,EAAcZ,EAAYY,YAAYH,MACtCI,EAAOb,EAAYa,KAAKJ,MACxBK,EAAQd,EAAYc,MAAML,MAC1BrB,EAASY,EAAYZ,OAAO2B,MAElC,IAAIC,EAAU,GAEd,GAAG5B,EAAO6B,OAAO,CACd,MAAMC,QAAuBhC,EAAaiC,EAAAhC,QAAS,IAAIC,IAEvD4B,QAAgBI,QAAQC,IAAIH,GAK/B,MAAMI,EAAa,CA7BvBd,SA8BQA,EA9BRb,KA+BQA,EA/BRe,MAgCQA,EAhCRC,SAiCQA,EAjCRC,YAkCQA,EAlCRC,KAmCQA,EAnCRC,MAoCQA,EACA1B,OAAQ4B,SDlChB/B,eAA0BsC,EAAIC,GAC1B,UACUzC,EAAA0C,OAAO1C,EAAA2C,WAAWH,EAAI,YAAaC,GACzClB,QAAQC,IAAI,iBACZoB,MAAM,sCACT,MAAMvB,GACHE,QAAQC,IAAIH,IC+BVwB,CAAWT,EAAAI,GAAKD","sources":["logic/addProducts.js","logic/createProducts.js"],"sourcesContent":["import { addDoc, collection } from \"firebase/firestore\";\r\nimport { ref, uploadBytes, getDownloadURL} from \"firebase/storage\";\r\n\r\nasync function addProduct(db, product){\r\n    try{\r\n        await addDoc(collection(db, \"products\"), product);\r\n        console.log(\"product added\");\r\n        alert(\"Â¡El producto fue creado con exito!\")\r\n    }catch(e){\r\n        console.log(e);\r\n    }\r\n}\r\n//Funcion para subir y guardar la imagen con el respectivo nombre\r\nasync function imageUploadReference(storage, image){\r\n    const storageRef = ref(storage, `products/images/${image.name}`);\r\n    return await uploadBytes(storageRef, image);\r\n}\r\nasync function uploadImages(storage, images = []) {\r\n    const uploadedImages = images.map( async (image) => {\r\n        const imageReference = await imageUploadReference(storage, image);\r\n        \r\n        return getDownloadURL(ref(storage, imageReference.ref.fullPath));\r\n    });\r\n\r\n    return uploadedImages;\r\n}\r\n\r\nexport{\r\n    addProduct,\r\n    uploadImages\r\n}","// Import the functions you need from the SDKs you need\r\nimport { addProduct, uploadImages } from \"./addProducts\";\r\nimport { storage, db } from \"./importFirebase\";\r\n\r\nconst productForm = document.getElementById(\"productForm\");\r\n\r\nproductForm.addEventListener(\"submit\", async (e) =>{\r\n    e.preventDefault();\r\n    console.log(\"funciono\");\r\n\r\n    const category = productForm.category.value;\r\n    const name = productForm.name.value;\r\n    const price = productForm.price.value;\r\n    const quantity = productForm.quantity.value;\r\n    const description = productForm.description.value;\r\n    const size = productForm.size.value;\r\n    const color = productForm.color.value;\r\n    const images = productForm.images.files;\r\n\r\n    let gallery = [];\r\n\r\n    if(images.length){\r\n       const uploadedImages = await uploadImages(storage, [...images]);\r\n\r\n       gallery = await Promise.all(uploadedImages);\r\n\r\n\r\n    }\r\n\r\n    const newProduct = {\r\n        category,\r\n        name,\r\n        price,\r\n        quantity,\r\n        description,\r\n        size,\r\n        color,\r\n        images: gallery,\r\n    }\r\n\r\n    await addProduct(db,  newProduct);\r\n});"],"names":["$etBjH","parcelRequire","async","$3f7889fe5916a8f4$export$633f5b6169e2b910","storage","images","map","image","imageReference","storageRef","$aYguL","ref","name","uploadBytes","$3f7889fe5916a8f4$var$imageUploadReference","getDownloadURL","fullPath","$ddef99082c949a99$var$productForm","document","getElementById","addEventListener","e","preventDefault","console","log","category","value","price","quantity","description","size","color","files","gallery","length","uploadedImages","$ijjug","Promise","all","newProduct","db","product","addDoc","collection","alert","$3f7889fe5916a8f4$export$7caf006d7b64ee15"],"version":3,"file":"adminView.30ed96d2.js.map"}