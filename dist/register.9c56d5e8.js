var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},o={},n=e.parcelRequireb12e;null==n&&((n=function(e){if(e in a)return a[e].exports;if(e in o){var n=o[e];delete o[e];var t={id:e,exports:{}};return a[e]=t,n.call(t.exports,t,t.exports),t.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,a){o[e]=a},e.parcelRequireb12e=n);var t=n("1tHc5"),r=n("etBjH");var l=n("ijjug");const s=document.getElementById("createUserForm"),i=document.getElementById("createUserBtn"),c=document.getElementById("loginForm"),d=document.getElementById("loginFormBtn");ScrollReveal().reveal(".login",{delay:500,duration:1500,origin:"bottom",distance:"-50px"}),i&&i.addEventListener("click",(async e=>{e.preventDefault();const a=s.name.value,o=s.lastName.value,n=s.email.value,i=s.password.value,c=s.confirmPassword.value,d={name:a,lastName:o,email:n,password:i,isAdmin:!1};if(""!==a&&""!==o&&""!==n&&""!==i&&""!==c&&i==c){const e=await async function(e,{email:a,password:o}){try{const{user:n}=await t.createUserWithEmailAndPassword(e,a,o);return console.log(n),n}catch(e){"auth/weak-password"===e.code&&alert("Tu contraseña debe tener al menos 6 caracteres"),"auth/email-already-in-use"===e.code&&alert("Este correo ya se encuentra en uso")}}(l.auth,d);await async function(e,a,o){try{await r.setDoc(r.doc(e,"users",a),o)}catch(e){console.log(e)}}(l.db,e.uid,d),alert(`¡Cuenta creada!, ${a} ahora inicia sesión`),console.log("creando user"),console.log(e),s.name.value="",s.lastName.value="",s.email.value="",s.password.value="",s.confirmPassword.value=""}i!==c&&alert("Las contraseñas no coinciden")})),d&&d.addEventListener("click",(async e=>{e.preventDefault(),console.log("entro");const a=c.email.value,o=c.password.value,n=await async function(e,a,o,n){try{const{user:l}=await t.signInWithEmailAndPassword(e,o,n);alert(`Bienvenido, usuario ${l.email}`);const s=r.doc(a,"users",l.uid);return(await r.getDoc(s)).data()}catch(e){console.log(e),alert("Correo o contraseña inválida :(")}}(l.auth,l.db,a,o);console.log(n),n.isAdmin?location.href="./adminView.html":location.href="./shop.html"}));
//# sourceMappingURL=register.9c56d5e8.js.map
